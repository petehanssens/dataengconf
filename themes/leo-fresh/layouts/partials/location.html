{{- $location := .Site.Params.location }}
{{- $title    := index $location "title" }}
{{- $subtitle    := index $location "subtitle" }}
{{- $MAPS_API_KEY    := index $location "MAPS_API_KEY" }}
{{- $text    := index $location "text" }}



<section id="location" class="section section-light-grey is-medium">
  <div class="container">
      <div class="title-wrapper has-text-centered">
          <h2 class="title is-2">{{ $title }}</h2>
          <h3 class="subtitle is-5 is-muted" style="margin-bottom: 5px;">{{ $subtitle }}</h3>
          <h4 class="subtitle is-6 is-muted is-centered">{{$text | markdownify}}</h2>
          <div class="divider is-centered"></div>
      </div>
    </br>
    <div id="googleMap" style="width:100%; height:50vh;"></div>
    <script>
    function myMap() {
    var mapProp= {
      center:new google.maps.LatLng(-33.8690146,151.2061543),
      zoom:14,
    };

    var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);

    var marker = new google.maps.Marker({
        position: mapProp.center,
        map: map,
        title: 'Wesley Center Conference'
    });

    var infowindow = new google.maps.InfoWindow({
      content: '<div><img src="/images/wesley.jpeg" style="height:15vh"></br><b>Wesley Conference Center</b></br>220 Pitt St, Sydney NSW 2000</div>'
    });
    infowindow.open(map, marker);
    // 
    }
    </script>
    <script src='https://maps.googleapis.com/maps/api/js?key={{ getenv "MAPS_API" }}&callback=myMap'></script>
  </div>
</section>